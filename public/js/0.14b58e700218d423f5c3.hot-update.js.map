{"version":3,"sources":["webpack:///./src/components/games.js?7b53"],"names":["Games","games","fetchGames","startLoading","stopLoading","setError","props","context","handleClick","e","router","push","target","dataset","id","user","fetched","nextProps","unfinished","map","game","nickname1","nickname2","updatedAt","fromNow","finished","winner","contextTypes","PropTypes","object","isRequired"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;KAMqBA,K,WAJpB,yBACC;AAAA,OAAGC,KAAH,QAAGA,KAAH;AAAA,UAAgB,EAAEA,YAAF,EAAhB;AAAA,EADD,EAEC,EAAEC,mCAAF,EAAcC,uCAAd,EAA4BC,qCAA5B,EAAyCC,+BAAzC,EAFD,C;;;AAKC,kBAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA,qIACpBD,KADoB;;AAAA,WAwB5BE,WAxB4B,GAwBd,UAACC,CAAD,EAAO;AACnB,aAAKF,OAAL,CAAaG,MAAb,CAAoBC,IAApB,aAAmCF,EAAEG,MAAF,CAASC,OAAT,CAAiBC,EAApD;AACD,MA1B2B;;AAAA;AAE3B;;;;yCAKmB;AAClB,WAAI,KAAKR,KAAL,CAAWS,IAAX,CAAgBD,EAAhB,IAAsB,CAAC,KAAKR,KAAL,CAAWL,KAAX,CAAiBe,OAA5C,EAAoD;AAClD,cAAKV,KAAL,CAAWJ,UAAX;AACA,cAAKI,KAAL,CAAWH,YAAX,CAAwB,KAAKG,KAAL,CAAWD,QAAnC;AACD;AACF;;;+CAEyBY,S,EAAW;AACnC,WAAI,CAAC,KAAKX,KAAL,CAAWL,KAAX,CAAiBe,OAAlB,IAA6BC,UAAUhB,KAAV,CAAgBe,OAAjD,EAAyD;AACvD,cAAKV,KAAL,CAAWF,WAAX;AACD;AACD,WAAK,CAAC,KAAKE,KAAL,CAAWS,IAAZ,IAAoBE,UAAUF,IAA/B,IACG,KAAKT,KAAL,CAAWS,IAAX,IAAmBE,UAAUF,IAAV,CAAeD,EAAf,KAAsB,KAAKR,KAAL,CAAWS,IAAX,CAAgBD,EADhE,EACoE;AAChE,cAAKR,KAAL,CAAWJ,UAAX;AACA,cAAKI,KAAL,CAAWH,YAAX,CAAwB,KAAKG,KAAL,CAAWD,QAAnC;AACH;AACF;;;8BAKQ;AAAA;;AACP,cACE;AAAA;AAAA,WAAK,WAAU,iBAAf;AACE;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAA,YADF;AAEE;AAAA;AAAA,eAAI,SAAS,KAAKG,WAAlB;AAEI,kBAAKF,KAAL,CAAWL,KAAX,CAAiBiB,UAAjB,CAA4BC,GAA5B,CAAiC,gBAAQ;AACvC,sBAAO;AAAA;AAAA,mBAAI,KAAKC,KAAKN,EAAd,EAAkB,WAASM,KAAKN,EAAhC;AACJM,sBAAKC,SADD;AACW;AAAA;AAAA;AAAA;AAAA,kBADX;AAC4BD,sBAAKE,SADjC;AAEL,0DAFK;AAAA;AAGQ,uCAAOF,KAAKG,SAAZ,EAAuBC,OAAvB;AAHR,gBAAP;AAKD,cAND;AAFJ;AAFF,UADF;AAeE;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAA,YADF;AAEE;AAAA;AAAA,eAAI,SAAS,KAAKhB,WAAlB;AAEI,kBAAKF,KAAL,CAAWL,KAAX,CAAiBwB,QAAjB,CAA0BN,GAA1B,CAA+B,gBAAQ;AACrC,sBAAO;AAAA;AAAA,mBAAI,KAAKC,KAAKN,EAAd,EAAkB,WAASM,KAAKN,EAAhC;AACJM,sBAAKC,SADD;AACW;AAAA;AAAA;AAAA;AAAA,kBADX;AAC4BD,sBAAKE,SADjC;AAEL,0DAFK;AAAA,+BAGQF,KAAKM,MAAL,KAAgB,OAAKpB,KAAL,CAAWS,IAAX,CAAgBD,EAAhC,GAAqC,KAArC,GAA6C,MAHrD;AAAA,gBAAP;AAKD,cAND;AAFJ;AAFF;AAfF,QADF;AAgCD;;;8BAzDMa,Y,GAAe;AACpBjB,WAAQ,gBAAMkB,SAAN,CAAgBC,MAAhB,CAAuBC;AADX,E;mBALH9B,K","file":"0.14b58e700218d423f5c3.hot-update.js","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport moment from \"moment\";\nimport { fetchGames, startLoading, stopLoading, setError } from \"../actions/userActions\";\n\n@connect(\n  ({ games }) => ({ games }),\n  { fetchGames, startLoading, stopLoading, setError }\n  )\nexport default class Games extends Component {\n  constructor(props, context) {\n    super(props);\n  }\n\n  static contextTypes = {\n    router: React.PropTypes.object.isRequired\n  }\n  componentDidMount() {\n    if (this.props.user.id && !this.props.games.fetched){\n      this.props.fetchGames();\n      this.props.startLoading(this.props.setError);\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!this.props.games.fetched && nextProps.games.fetched){\n      this.props.stopLoading();\n    }\n    if ((!this.props.user && nextProps.user) ||\n          (this.props.user && nextProps.user.id !== this.props.user.id)){\n        this.props.fetchGames();\n        this.props.startLoading(this.props.setError);\n    }\n  }\n  handleClick = (e) => {\n    this.context.router.push(`/games/${e.target.dataset.id}`);\n  }\n\n  render() {\n    return (\n      <div className=\"games-container\">\n        <div>\n          <h1>Ongoing Games</h1>\n          <ul onClick={this.handleClick}>\n            {\n              this.props.games.unfinished.map( game => {\n                return <li key={game.id} data-id={game.id}>\n                  {game.nickname1}<span>vs.</span>{game.nickname2}\n                  <br />\n                  Last Moved: {moment(game.updatedAt).fromNow()}\n                </li>\n              })\n            }\n          </ul>\n        </div>\n        <div>\n          <h1>Finished Games</h1>\n          <ul onClick={this.handleClick}>\n            {\n              this.props.games.finished.map( game => {\n                return <li key={game.id} data-id={game.id}>\n                  {game.nickname1}<span>vs.</span>{game.nickname2}\n                  <br/>\n                  { `Result: ${game.winner === this.props.user.id ? \"Won\" : \"Lost\"}` }\n                </li>\n              })\n            }\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/games.js\n **/"],"sourceRoot":""}